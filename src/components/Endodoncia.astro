---
import { Image } from "astro:assets";
import ImageEndodoncia from "../../public/assets/EndodonciaImg.png";
import ButtonBack from "./Buttons/ButtonBack.astro";
import ButtonNext from "./Buttons/ButtonNext.astro";
import ButtonBackServices from "./Buttons/ButtonService.astro";
import ButtonVideo from "./Buttons/ButtonVideo.astro";
import { getI18N } from "../i18n";
import { getLangFromUrl } from "../i18n";

const { currentLocale } = Astro;
const i18n = await getI18N({ currentLocale })

interface Props {
  title: string;
  subtitle1: string;
  text1: string;
  subtitle2: string;
  text2: string;
  subtitle3: string;
  text3: string;
  subtitle4: string;
  text4: string;
}

const { title, subtitle1, text1, subtitle2, text2, subtitle3, text3, subtitle4, text4 } = Astro.props;
const languages = getLangFromUrl(Astro.url);

const base = '/RC-Dental';
---

<section class="w-full h-[88vh] flex flex-col">
  <article class="flex flex-col w-[100vw] h-[100%] overflow-hidden relative">

    <!-- Contenedor botones -->
    <div class="container-buttons flex justify-between py-5 px-10 z-10">
      <ButtonBack pathBack={`${base}${languages}/implants`} buttonText={i18n.BUTTON_BACK} />
      <ButtonNext pathNext={`${base}${languages}/generaldentistry`} buttonText={i18n.BUTTON_NEXT} />
    </div>

    <!-- Contenedor titulo -->
    <div class="container-title flex justify-center mb-5 px-10 h-[10%] mt-[-5vh]">
      <h1 class="text-3xl font-bold text-colors-darkest text-center">
        {title}
      </h1>
    </div>

    <!-- Contenedor texto, botones, imagen de servicio e imagen decorativa 90% -->
    <div class="flex flex-col h-[90%]">

      <!-- Contenedor texto, botones e imagen de servicio -->
      <div class="flex justify-between items-center">

        <!-- Contenedor descripcion servicio -->
        <div class="container-dates prose flex flex-col justify-between gap-3 pl-14">
          <article>
            <h3 class="text-lg font-bold m-0 text-colors-darkest">
              {subtitle1}
            </h3>
            <p
              class="text-sm text-pretty m-0 font-normal text-colors-almost-black mb-4"
            >
              {text1}
            </p>
          </article>

          <article>
            <h3 class="text-lg font-bold m-0 text-colors-darkest">
              {subtitle2}
            </h3>
            <p
              class="text-sm text-pretty m-0 font-normal text-colors-almost-black mb-4"
            >
              {text2}
            </p>
          </article>

          <article>
            <h3 class="text-lg font-bold m-0 text-colors-darkest">
              {subtitle3}
            </h3>
            <p
              class="text-sm text-pretty m-0 font-normal text-colors-almost-black mb-4"
            >
              {text3}
            </p>
          </article>

          <article>
            <h3 class="text-lg font-bold m-0 text-colors-darkest">
              {subtitle4}
            </h3>
            <p
              class="text-sm text-pretty m-0 font-normal text-colors-almost-black mb-4"
            >
            {text4}
            </p>
          </article>

          <!-- Contenedor del botones de navegación -->
          <div class="container-buttons-navigate w-[100%] flex flex-row gap-3 mt-[10vh] justify-between">
            <div>
              <ButtonBackServices buttonText={i18n.BUTTON_BACKSERVICES} />
            </div>
              
            <!-- Contenedor del boton para ver el video -->
            <div class="flex h-[40%] items-end">
              <ButtonVideo buttonText={i18n.BUTTON_WATCH_VIDEO} />
            </div>
          </div>
        </div>

        <!-- Contenedor imagen de endodoncia -->
        <div class="relative overflow-hidden hidden sm:flex">
          <Image
            src={ImageEndodoncia}
            alt="Ilustración del Servicio de Endodoncia"
            class="rounded-full w-[100%] h-[32vw] transform translate-x-[10%]"
          />
        </div>
      </div>

      <!-- Elipses descorativas -->
      <div class="container-elipses absolute flex sm:hidden ml-[76vw] mt-[8vh] -z-10">
        <svg width="94" height="217" viewBox="0 0 94 217" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="86.368" cy="86.3689" r="67.3688" transform="rotate(-110 86.368 86.3689)" fill="url(#paint0_linear_798_16)"/>
          <circle cx="63.9307" cy="173.611" r="17.6418" transform="rotate(-110 63.9307 173.611)" fill="url(#paint1_linear_798_16)"/>
          <circle cx="78.4334" cy="202.417" r="11.2477" transform="rotate(-110 78.4334 202.417)" fill="url(#paint2_linear_798_16)"/>
          <circle cx="55.4556" cy="200.042" r="7.83407" transform="rotate(-110 55.4556 200.042)" fill="url(#paint3_linear_798_16)"/>
          <defs>
          <linearGradient id="paint0_linear_798_16" x1="86.368" y1="19.0001" x2="86.368" y2="153.738" gradientUnits="userSpaceOnUse">
          <stop stop-color="#399390" stop-opacity="0.05"/>
          <stop offset="0.5" stop-color="#2C7575" stop-opacity="0.65"/>
          <stop offset="1" stop-color="#265F5F"/>
          </linearGradient>
          <linearGradient id="paint1_linear_798_16" x1="63.9307" y1="155.97" x2="63.9307" y2="191.253" gradientUnits="userSpaceOnUse">
          <stop stop-color="#399390" stop-opacity="0.05"/>
          <stop offset="0.5" stop-color="#2C7575" stop-opacity="0.65"/>
          <stop offset="1" stop-color="#265F5F"/>
          </linearGradient>
          <linearGradient id="paint2_linear_798_16" x1="78.4334" y1="191.169" x2="78.4334" y2="213.664" gradientUnits="userSpaceOnUse">
          <stop stop-color="#399390" stop-opacity="0.05"/>
          <stop offset="0.5" stop-color="#2C7575" stop-opacity="0.65"/>
          <stop offset="1" stop-color="#265F5F"/>
          </linearGradient>
          <linearGradient id="paint3_linear_798_16" x1="55.4556" y1="192.207" x2="55.4556" y2="207.876" gradientUnits="userSpaceOnUse">
          <stop stop-color="#399390" stop-opacity="0.05"/>
          <stop offset="0.5" stop-color="#2C7575" stop-opacity="0.65"/>
          <stop offset="1" stop-color="#265F5F"/>
          </linearGradient>
          </defs>
          </svg>
          
      </div>

      <!-- SVG en la parte inferior (decorativo) -->
      <div class="items-end -z-10 hidden sm:flex">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="2560"
          height="409"
          viewBox="0 0 1440 409"
          fill="none"
          class="absolute bottom-[-2vh] right-0"
        >
          <path
            d="M2560 319.711C2560 408.17 1440 408.17 738.269 408.17C340.624 408.17 0 423.768 0 319.711C0 130.798 300.742 71.326 708.289 199.767C1128.02 31.844 2560 -200.548 2560 319.711Z"
            fill="#D7F0ED"></path>
        </svg>
      </div>
    </div>
  </article>

  <!-- SVG en la parte inferior (decorativo) -->
  <div class="container-elipses absolute flex sm:hidden -z-10 mt-[98vh]">
    <svg width="336" height="86" viewBox="0 0 336 86" fill="none" xmlns="http://www.w3.org/2000/svg">
      <circle cx="52.3688" cy="67.3688" r="67.3688" fill="url(#paint0_linear_798_17)"/>
      <circle cx="138.369" cy="86.3688" r="67.3688" fill="url(#paint1_linear_798_17)"/>
      <circle cx="229" cy="86" r="51" fill="url(#paint2_linear_798_17)"/>
      <circle cx="298" cy="86" r="38" fill="url(#paint3_linear_798_17)"/>
      <defs>
      <linearGradient id="paint0_linear_798_17" x1="52.3688" y1="0" x2="52.3688" y2="134.738" gradientUnits="userSpaceOnUse">
      <stop stop-color="#399390" stop-opacity="0.05"/>
      <stop offset="0.5" stop-color="#2C7575" stop-opacity="0.65"/>
      <stop offset="1" stop-color="#265F5F"/>
      </linearGradient>
      <linearGradient id="paint1_linear_798_17" x1="138.369" y1="19" x2="138.369" y2="153.738" gradientUnits="userSpaceOnUse">
      <stop stop-color="#399390" stop-opacity="0.05"/>
      <stop offset="0.5" stop-color="#2C7575" stop-opacity="0.65"/>
      <stop offset="1" stop-color="#265F5F"/>
      </linearGradient>
      <linearGradient id="paint2_linear_798_17" x1="229" y1="35" x2="229" y2="137" gradientUnits="userSpaceOnUse">
      <stop stop-color="#399390" stop-opacity="0.05"/>
      <stop offset="0.5" stop-color="#2C7575" stop-opacity="0.65"/>
      <stop offset="1" stop-color="#265F5F"/>
      </linearGradient>
      <linearGradient id="paint3_linear_798_17" x1="298" y1="48" x2="298" y2="124" gradientUnits="userSpaceOnUse">
      <stop stop-color="#399390" stop-opacity="0.05"/>
      <stop offset="0.5" stop-color="#2C7575" stop-opacity="0.65"/>
      <stop offset="1" stop-color="#265F5F"/>
      </linearGradient>
      </defs>
      </svg>
      
  </div>
</section>

<style>
  @media (min-width: 320px) and (max-width: 640px) {
    section {
      width: 100%;
      height: 100%;
    }

    .container-buttons {
      width: 100%;
      display: flex;
      padding: 2vh ;
    }

    .container-information {
      width: 100%;
    }

    .container-dates {
      width: 100%;
      padding: 4vh 6vh 0 6vh;
      margin: 0 0 2rem 0;
    }

    .container-title {
      width: 100%;
      margin: 2vh 0 0 0;
      padding: 0;
    }

    .container-buttons-navigate {
      margin: 0;
    }
  }  
</style>