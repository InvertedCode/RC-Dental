---
import { Image } from "astro:assets";
import ImageImplantes from "../../public/assets/ImplantesImg.png";
import ButtonBack from "./Buttons/ButtonBack.astro";
import ButtonNext from "./Buttons/ButtonNext.astro";
import ButtonBackServices from "./Buttons/ButtonService.astro";
import ButtonVideo from "./Buttons/ButtonVideo.astro";
import { getI18N } from "../i18n";
import { getLangFromUrl } from "../i18n";

interface Props {
  title: string;
  subtitle1: string;
  text1: string;
  subtitle2: string;
  text2: string;
  subtitle3: string;
  text3: string;
  subtitle4: string;
  text4: string;
}

const { title, subtitle1, text1, subtitle2, text2, subtitle3, text3, subtitle4, text4 } = Astro.props;

const { currentLocale } = Astro;
const i18n = await getI18N({ currentLocale })
const languages = getLangFromUrl(Astro.url);

const base = '/RC-Dental';
---

<section class="w-full h-[88vh] flex flex-col">
  <article class="flex flex-col w-[100vw] h-[100%] overflow-hidden relative">

    <!-- Contenedor botones -->
    <div class="container-buttons flex justify-between py-5 px-10 z-10 ">
      <ButtonBack pathBack={`${base}${languages}/oralrehab`} buttonText={i18n.BUTTON_BACK} />
      <ButtonNext pathNext={`${base}${languages}/endodontics`} buttonText={i18n.BUTTON_NEXT} />
    </div>

    <!-- Elipses decorativas -->
    <div class="container-elipses flex sm:hidden mt-[-16vh] -z-10">
      <svg width="124" height="191" viewBox="0 0 124 191" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="7.5" cy="98.5" r="92.5" transform="rotate(90 7.5 98.5)" fill="url(#paint0_linear_794_11)"/>
        <circle cx="94" cy="30" r="30" transform="rotate(180 94 30)" fill="url(#paint1_linear_794_11)"/>
        <circle cx="93" cy="62" r="9" transform="rotate(180 93 62)" fill="url(#paint2_linear_794_11)"/>
        <defs>
        <linearGradient id="paint0_linear_794_11" x1="7.5" y1="6" x2="7.5" y2="191" gradientUnits="userSpaceOnUse">
        <stop stop-color="#399390" stop-opacity="0.05"/>
        <stop offset="0.5" stop-color="#2C7575" stop-opacity="0.65"/>
        <stop offset="1" stop-color="#265F5F"/>
        </linearGradient>
        <linearGradient id="paint1_linear_794_11" x1="94" y1="0" x2="94" y2="60" gradientUnits="userSpaceOnUse">
        <stop stop-color="#399390" stop-opacity="0.05"/>
        <stop offset="0.5" stop-color="#2C7575" stop-opacity="0.65"/>
        <stop offset="1" stop-color="#265F5F"/>
        </linearGradient>
        <linearGradient id="paint2_linear_794_11" x1="93" y1="53" x2="93" y2="71" gradientUnits="userSpaceOnUse">
        <stop stop-color="#399390" stop-opacity="0.05"/>
        <stop offset="0.5" stop-color="#2C7575" stop-opacity="0.65"/>
        <stop offset="1" stop-color="#265F5F"/>
        </linearGradient>
        </defs>
      </svg>
    </div>

    <!-- Contenedor titulo -->
    <div class=" container-title flex justify-center mb-5 px-10 h-[10%] mt-[-5vh]">
      <h1 class="text-3xl font-bold text-colors-darkest text-center">
          {title}
      </h1>
    </div>

    
    <!-- Contenedor texto, botones, imagen de servicio e imagen decorativa 90% -->
    <div class="flex flex-col h-[90%]">

      <!-- Contenedor texto, botones e imagen de servicio -->
      <div class="flex justify-between items-center">

        <!-- Contenedor descripcion servicio -->
        <div class="container-dates prose flex flex-col justify-between gap-3 pl-14">
          <article>
            <h3 class="text-lg font-bold m-0 text-colors-darkest">
              {subtitle1}
            </h3>
            <p
              class="text-sm text-pretty m-0 font-normal text-colors-almost-black mb-4"
            >
              {text1}
            </p>
          </article>

          <article>
            <h3 class="text-lg font-bold m-0 text-colors-darkest">
              {subtitle2}
            </h3>
            <p
              class="text-sm text-pretty font-normal text-colors-almost-black mb-4"
            >
            {text2}
            </p>
          </article>

          <article>
            <h3 class="text-lg font-bold m-0 text-colors-darkest">
              {subtitle3}
            </h3>
            <p
              class="text-sm text-pretty font-normal text-colors-almost-black mb-4"
            >
            {text3}
            </p>
          </article>

          <article>
            <h3 class="text-lg font-bold m-0 text-colors-darkest">
              {subtitle4}
            </h3>
            <p
              class="text-sm text-pretty font-normal text-colors-almost-black mb-4"
            >
            {text4}
            </p>
          </article>

            <!-- Contenedor del botones de navegación -->
            <div class="container-buttons-navigate w-[100%] flex flex-row gap-3 mt-[10vh] justify-between">
              <div>
                <ButtonBackServices buttonText={i18n.BUTTON_BACKSERVICES} />
              </div>
                
              <!-- Contenedor del boton para ver el video -->
              <div class="flex h-[40%] items-end">
                <ButtonVideo buttonText={i18n.BUTTON_WATCH_VIDEO} />
              </div>
            </div>
        </div>

        <!-- Contenedor imagen de implantes -->
        <div class="relative overflow-hidden hidden sm:flex">
          <Image
            src={ImageImplantes}
            alt="Ilustración del Servicio de Implantes"
            class="rounded-full w-[100%] h-[32vw] transform translate-x-[10%]"
          />
        </div>
      </div>

      <!-- Elipses decorativas medias -->
      <div class="container-elipses-left absolute mt-[38vh] flex sm:hidden -z-10">
        <svg width="59" height="123" viewBox="0 0 59 123" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="-0.432717" cy="63.5184" r="42.8386" transform="rotate(120 -0.432717 63.5184)" fill="url(#paint0_linear_794_12)"/>
          <circle cx="0.036899" cy="15.9025" r="11.0072" transform="rotate(50.9711 0.036899 15.9025)" fill="url(#paint1_linear_794_12)"/>
          <defs>
          <linearGradient id="paint0_linear_794_12" x1="-0.432716" y1="20.6798" x2="-0.432716" y2="106.357" gradientUnits="userSpaceOnUse">
          <stop stop-color="#399390" stop-opacity="0.05"/>
          <stop offset="0.5" stop-color="#2C7575" stop-opacity="0.65"/>
          <stop offset="1" stop-color="#265F5F"/>
          </linearGradient>
          <linearGradient id="paint1_linear_794_12" x1="0.0368986" y1="4.89529" x2="0.0368986" y2="26.9097" gradientUnits="userSpaceOnUse">
          <stop stop-color="#399390" stop-opacity="0.05"/>
          <stop offset="0.5" stop-color="#2C7575" stop-opacity="0.65"/>
          <stop offset="1" stop-color="#265F5F"/>
          </linearGradient>
          </defs>
          </svg>
      </div>

      <!-- SVG en la parte inferior (decorativo) -->
      <div class="items-end -z-10 hidden sm:flex">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="1394"
          height="902"
          viewBox="0 0 1394 902"
          fill="none"
          class="absolute bottom-[-10vh] right-[-5vw]"
        >
          <path
            d="M1360.51 679.951C1334.5 902 1334.5 902 774.648 902C-209.876 902 -264.424 762.092 659.557 618.572C1583.54 475.053 1010.68 13.8065 1238.91 0.265973C1467.15 -13.2745 1382.31 493.867 1360.51 679.951Z"
            fill="#D7F0ED"></path>
        </svg>
      </div>
    </div>
  </article>

  <!-- SVG en la parte inferior (decorativo) -->
   <div class="w-[100%] absolute flex sm:hidden mt-[103vh] ml-[86vw]">
    <svg width="68" height="77" viewBox="0 0 68 77" fill="none" xmlns="http://www.w3.org/2000/svg">
      <circle cx="63.0186" cy="67.0186" r="46.1328" transform="rotate(120 63.0186 67.0186)" fill="url(#paint0_linear_795_13)"/>
      <circle cx="45.8781" cy="15.4163" r="8.53675" transform="rotate(153.975 45.8781 15.4163)" fill="url(#paint1_linear_795_13)"/>
      <circle cx="56" cy="5" r="4" fill="url(#paint2_linear_795_13)"/>
      <circle cx="48.5" cy="2.5" r="2.5" fill="url(#paint3_linear_795_13)"/>
      <defs>
      <linearGradient id="paint0_linear_795_13" x1="63.0186" y1="20.8858" x2="63.0186" y2="113.151" gradientUnits="userSpaceOnUse">
      <stop stop-color="#399390" stop-opacity="0.05"/>
      <stop offset="0.5" stop-color="#2C7575" stop-opacity="0.65"/>
      <stop offset="1" stop-color="#265F5F"/>
      </linearGradient>
      <linearGradient id="paint1_linear_795_13" x1="45.8781" y1="6.87958" x2="45.8781" y2="23.9531" gradientUnits="userSpaceOnUse">
      <stop stop-color="#399390" stop-opacity="0.05"/>
      <stop offset="0.5" stop-color="#2C7575" stop-opacity="0.65"/>
      <stop offset="1" stop-color="#265F5F"/>
      </linearGradient>
      <linearGradient id="paint2_linear_795_13" x1="56" y1="1" x2="56" y2="9" gradientUnits="userSpaceOnUse">
      <stop stop-color="#399390" stop-opacity="0.05"/>
      <stop offset="0.5" stop-color="#2C7575" stop-opacity="0.65"/>
      <stop offset="1" stop-color="#265F5F"/>
      </linearGradient>
      <linearGradient id="paint3_linear_795_13" x1="48.5" y1="0" x2="48.5" y2="5" gradientUnits="userSpaceOnUse">
      <stop stop-color="#399390" stop-opacity="0.05"/>
      <stop offset="0.5" stop-color="#2C7575" stop-opacity="0.65"/>
      <stop offset="1" stop-color="#265F5F"/>
      </linearGradient>
      </defs>
      </svg>      
   </div>
</section>

<style>
  @media (min-width: 320px) and (max-width: 640px) {
    section {
      width: 100%;
      height: 100%;
    }

    .container-buttons {
      width: 100%;
      display: flex;
      padding: 2vh ;
    }

    .container-information {
      width: 100%;
    }

    .container-dates {
      width: 100%;
      padding: 4vh 6vh 0 6vh;
      margin: 0 0 2rem 0;
    }

    .container-title {
      width: 100%;
      margin: -10vh 0 0 0;
      padding: 0;
    }

    .container-buttons-navigate {
      margin: 0;
    }
  }
</style>